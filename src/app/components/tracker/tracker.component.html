<div class="welcome-back d-flex justify-content-center">
  <h1 class="text-light font-jap p-4">
    おかえり<span class="font-jap text-danger ms-2" style="font-style: italic"
      >!</span
    >
  </h1>
</div>

<div class="row">
  <div
    class="d-flex flex-wrap"
    [class.col-12]="!isMangaSelected"
    [class.col-8]="isMangaSelected"
  >
    <div *ngFor="let manga of myMangas">
      <article class="card mt-4 ms-4">
        <img
          class="card__background"
          src="{{ manga.imageUrl }}"
          alt="Photo of
                    Cartagena's cathedral at the background and some colonial style houses"
          width="100%"
          height="100%"
        />
        <div class="card__content | flow" style="width: 100%">
          <div class="card__content--container | flow">
            <h2 class="card__title text-light">{{ manga.title }}</h2>
            <div class="card__description text-light">
              <div>
                CIAO
                <i
                  class="fa-solid fa-star fs-6 ms-2 text-rainbow-animation"
                ></i>
              </div>
            </div>
          </div>
          <div class="row justify-content-around mt-1">
            <button
              type="button"
              class="btn mango-color card__button col-6"
              (click)="showSide(manga)"
            >
              <i class="fa-solid fa-bookmark"></i>
            </button>
            <button
              type="button"
              class="btn btn-danger card__button col-3"
              (click)="removeMangaForMe(manga.id)"
            >
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        </div>
      </article>
    </div>
  </div>
  <div
    class="col-4 lighter-dark vh-100 ps-0 slide-in-right sidebar p-0"
    *ngIf="isMangaSelected"
  >
    <div
      class="gradient-bg d-flex py-2 align-content-center justify-content-center"
    >
      <button class="btn fs-3" type="button" (click)="hideSide()">
        <i class="fa-solid fa-arrow-left"></i>
      </button>
      <h1 class="font-logo text-light h1 ms-3 text-truncate z-1 pe-2 mt-1">
        {{ displayMangaName }}
      </h1>
      <img
        src="{{ displayMangaImage }}"
        alt=""
        style="width: 50px; height: 50px"
        class="rounded-5 ms-auto me-3 z-0"
      />
    </div>
    <div>
      <div class="d-flex flex-wrap">
        <div
          *ngFor="let volume of generateVolumeArray(); let i = index"
          class="mt-2 ms-3"
          style="max-width: 70px"
        >
          <button
            class="btn btn-dark rounded-0 coinup position-relative"
            type="button"
            (click)="markVolumeAsRead(displayMangaId, i + 1)"
            [id]="'volumeButton_' + (i + 1)"
            (click)="addCoin($event)"
            [disabled]="clickedVolumes.includes(i + 1)"
          >
            Volume {{ i + 1 }}
            <span *ngIf="clickedVolumes.includes(i + 1)" class="mask">
              <i class="fa-solid fa-check"></i>
            </span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
